(this["webpackJsonpstar-wars-planets"]=this["webpackJsonpstar-wars-planets"]||[]).push([[0],{11:function(e,t,a){e.exports={Card:"Card_Card__E4n_N",Card__property:"Card_Card__property__6ooGW",name:"Card_name__2M2E6",value:"Card_value__1D3VY"}},20:function(e,t,a){e.exports={Library:"Library_Library__9QTjD",NotFound:"Library_NotFound__1gWGB",showMoreBtn:"Library_showMoreBtn__3amXS",showMoreBtn_preloader:"Library_showMoreBtn_preloader__16ZSp"}},21:function(e,t,a){e.exports={NotFound404:"NotFound404_NotFound404__1qX-c",contentWrapper:"NotFound404_contentWrapper__2Sbof",title:"NotFound404_title__2Fphb",mainPageBtn:"NotFound404_mainPageBtn__2dHr5"}},27:function(e,t,a){e.exports={InfoField:"InfoField_InfoField__1LEY_",name:"InfoField_name__3PIUT",values:"InfoField_values__3Q3YW"}},34:function(e,t,a){e.exports={PlanetPage:"PlanetPage_PlanetPage__1jf3q"}},35:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__1JtUR",search:"SearchForm_search__3j8oR"}},47:function(e,t,a){e.exports={Preloader:"Preloader_Preloader__lrE8P"}},55:function(e,t,a){},56:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/star-wars-gif.153166d7.gif"},81:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(22),i=a.n(s),o=(a(55),a(56),a(3)),l=a(24),u=a(25),d=a(14),p=a(7),j=a(4),h=a(47),b=a.n(h),m=function(e){return Object(n.jsx)("div",Object(j.a)({className:b.a.Preloader},e))},O=a(13),f=a.n(O),_=a(16),x=a(28),v=a(19),g=a.n(v),P=g.a.create({baseURL:"https://swapi.dev/api/"}),y={getPlanets:function(){return P.get("planets/").then((function(e){return e.data}))},getMorePlanets:function(e){return g.a.get(e.replace("http","https")).then((function(e){return e.data}))},getPlanetDetails:function(e){return P.get("planets/".concat(e,"/")).then((function(e){return e.data}))},getPersonName:function(e){return g.a.get(e.replace("http","https")).then((function(e){return e.data.name}))},searchPlanets:function(e){return g.a.get("https://swapi.dev/api/planets/?search=".concat(e)).then((function(e){return e.data}))}},N="planets/SET_PLANETS",L="planets/ADD_PLANETS",E="planets/TOGGLE_IS_GLOBAL_LOADING",w="planets/TOGGLE_IS_LOADING",F={next:"",planets:[],isLoading:!1,isGlobalLoading:!1},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(j.a)(Object(j.a)({},e),{},{planets:Object(x.a)(t.payload.results),next:t.payload.next});case L:return Object(j.a)(Object(j.a)({},e),{},{planets:[].concat(Object(x.a)(e.planets),Object(x.a)(t.payload.results)),next:t.payload.next});case w:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});case E:return Object(j.a)(Object(j.a)({},e),{},{isGlobalLoading:t.isLoading});default:return e}},D=function(e){return{type:N,payload:e}},G=function(e){return{type:w,isLoading:e}},I=function(e){return{type:E,isLoading:e}},T=a(12),A=a(11),C=a.n(A),V=function(e){var t=e.id,a=e.name,r=e.climate,c=e.population;return Object(n.jsxs)(T.b,{className:C.a.Card,to:"/planet/".concat(t),children:[Object(n.jsxs)("div",{className:C.a.Card__property,children:[Object(n.jsx)("div",{className:C.a.name,children:"Name"}),Object(n.jsx)("div",{className:C.a.value,children:a})]}),Object(n.jsxs)("div",{className:C.a.Card__property,children:[Object(n.jsx)("div",{className:C.a.name,children:"Climate"}),Object(n.jsx)("div",{className:C.a.value,children:r})]}),Object(n.jsxs)("div",{className:C.a.Card__property,children:[Object(n.jsx)("div",{className:C.a.name,children:"Population"}),Object(n.jsx)("div",{className:C.a.value,children:c})]})]})},M=c.a.memo(V),B=a(20),q=a.n(B),k=a(48),U=a.n(k),R=function(e){var t=e.planets,a=e.requestPlanets,c=e.requestMorePlanets,s=e.next,i=e.isGlobalLoading,o=e.isLoading,d=e.match,p=e.searchPlanets,j=Object(u.a)(e,["planets","requestPlanets","requestMorePlanets","next","isGlobalLoading","isLoading","match","searchPlanets"]);Object(r.useEffect)((function(){d.params.searchValue?p(d.params.searchValue):a()}),[d.params.searchValue,p,j.location,a]);var h=function(e){return+e.match(/(?<=planets\/)\d+/i)};return i?Object(n.jsx)(m,{style:{height:"calc(100vh - 70px)"}}):Object(n.jsxs)(n.Fragment,{children:[0===t.length&&Object(n.jsx)("div",{className:q.a.NotFound,children:"PLANETS NO FOUND"}),Object(n.jsx)("div",{className:q.a.Library,children:t.map((function(e){return Object(n.jsx)(M,{id:h(e.url),name:e.name,climate:e.climate,population:e.population},h(e.url))}))}),s&&Object(n.jsx)("div",{className:U()(q.a.showMoreBtn,Object(l.a)({},q.a.showMoreBtn_preloader,o)),onClick:function(){o||c(s)},children:!o&&"SHOW MORE"})]})},W=Object(p.d)(o.g,Object(d.b)((function(e){return{planets:e.planets.planets,next:e.planets.next,isLoading:e.planets.isLoading,isGlobalLoading:e.planets.isGlobalLoading}}),{requestMorePlanets:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(G(!0)),t.next=3,y.getMorePlanets(e);case 3:n=t.sent,a({type:L,payload:n}),a(G(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},requestPlanets:function(){return function(){var e=Object(_.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(I(!0)),e.next=3,y.getPlanets();case 3:a=e.sent,t(D(a)),t(I(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},searchPlanets:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(I(!0)),t.next=3,y.searchPlanets(e);case 3:n=t.sent,a(D(n)),a(I(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(c.a.memo(R)),X=a(36),H="currentPlanet/SET_PLANET_DETAILS",J="currentPlanet/SET_PLANET_RESIDENTS",Y="currentPlanet/TOGGLE_IS_LOADING",Q={name:null,rotation_period:null,diameter:null,climate:null,gravity:null,terrain:null,population:null,residents:[],isLoading:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(j.a)(Object(j.a)({},e),{},{name:t.payload.name,rotation_period:t.payload.rotation_period,diameter:t.payload.diameter,climate:t.payload.climate,gravity:t.payload.gravity,terrain:t.payload.terrain,population:t.payload.population});case J:return Object(j.a)(Object(j.a)({},e),{},{residents:t.payload});case Y:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});default:return e}},z=function(e){return{type:J,payload:e}},K=function(e){return{type:Y,isLoading:e}},$=a(27),ee=a.n($),te=function(e){var t=e.propertyName,a=e.values;return Object(n.jsxs)("div",{className:ee.a.InfoField,children:[Object(n.jsx)("span",{className:ee.a.name,children:t&&t.toUpperCase().replace("_"," ")}),Object(n.jsx)("div",{className:ee.a.values,children:Array.isArray(a)?a.map((function(e){return Object(n.jsx)("span",{children:e},e)})):Object(n.jsx)("span",{children:a})})]})},ae=a(34),ne=a.n(ae),re=function(e){var t=e.match,c=e.requestPlanetDetails,s=e.details,i=e.isLoading;Object(u.a)(e,["match","requestPlanetDetails","details","isLoading"]);return Object(r.useEffect)((function(){c(t.params.id)}),[t.params.id,c]),i?Object(n.jsx)(m,{style:{height:"calc(100vh - 70px)"}}):Object(n.jsxs)("div",{className:ne.a.PlanetPage,children:[Object(n.jsx)("div",{className:ne.a.InfoBlock,children:Object.entries(s).filter((function(e){var t=Object(X.a)(e,2),a=(t[0],t[1]);return a&&a.length>0})).map((function(e){var t=Object(X.a)(e,2),a=t[0],r=t[1];return Object(n.jsx)(te,{propertyName:a,values:r},a)}))}),Object(n.jsx)("img",{src:a(80).default,alt:""})]})},ce=Object(p.d)(o.g,Object(d.b)((function(e){return{details:{name:e.currentPlanet.name,rotation_period:e.currentPlanet.rotation_period,diameter:e.currentPlanet.diameter,climate:e.currentPlanet.climate,gravity:e.currentPlanet.gravity,terrain:e.currentPlanet.terrain,population:e.currentPlanet.population,residents:e.currentPlanet.residents},isLoading:e.currentPlanet.isLoading}}),{requestPlanetDetails:function(e){return function(){var t=Object(_.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(K(!0)),t.next=3,y.getPlanetDetails(e);case 3:return n=t.sent,a({type:H,payload:n}),t.next=7,Promise.all(n.residents.map((function(e){return y.getPersonName(e)})));case 7:r=t.sent,a(z(r)),a(K(!1));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(c.a.memo(re)),se=a(35),ie=a.n(se),oe="search/SET_SEARCH_VALUE",le={searchValue:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(j.a)(Object(j.a)({},e),{},{searchValue:t.payload});default:return e}},de=function(e){var t=e.setSearchValue,a=e.match,c=e.searchValue,s=e.history;Object(r.useEffect)((function(){a.params.searchValue&&t(a.params.searchValue)}),[a.params.searchValue,t]),window.addEventListener("unhandledrejection",(function(e){404===e.reason.request.status&&s.push("/404")}));return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c?s.push("/search/".concat(c)):s.push("/")},className:ie.a.searchForm,children:[Object(n.jsx)("input",{className:ie.a.search,type:"text",onChange:function(e){return t(e.target.value)},value:c||"",placeholder:"Search planets..."}),Object(n.jsx)("button",{type:"submit"})]})},pe=Object(p.d)(o.g,Object(d.b)((function(e){return{searchValue:e.searchForm.searchValue}}),{setSearchValue:function(e){return{type:oe,payload:e}}}))(c.a.memo(de)),je=a(21),he=a.n(je),be=function(){return Object(n.jsx)("div",{className:he.a.NotFound404,children:Object(n.jsxs)("div",{className:he.a.contentWrapper,children:[Object(n.jsx)("div",{className:he.a.title,children:"404"}),Object(n.jsxs)("div",{children:["whoops! ",Object(n.jsx)("span",{children:"NOT FOUND"})]}),Object(n.jsx)(T.b,{className:he.a.mainPageBtn,to:"/",children:"MAIN PAGE"})]})})},me=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe,{}),Object(n.jsx)(W,{})]}),Oe=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe,{}),Object(n.jsx)(ce,{})]}),fe=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{exact:!0,path:"/",render:function(){return me}}),Object(n.jsx)(o.b,{path:"/planet/:id",render:function(){return Oe}}),Object(n.jsx)(o.b,{path:"/search/:searchValue",render:function(){return me}}),Object(n.jsx)(o.b,{path:"/404",render:function(){return Object(n.jsx)(be,{})}}),Object(n.jsx)(o.b,{path:"*",render:function(){return Object(n.jsx)(o.a,{to:"/404"})}})]})})},_e=a(49),xe=Object(p.c)({planets:S,currentPlanet:Z,searchForm:ue}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,ge=Object(p.e)(xe,ve(Object(p.a)(_e.a)));i.a.render(Object(n.jsx)(T.a,{children:Object(n.jsx)(d.a,{store:ge,children:Object(n.jsx)(fe,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.0d93cf76.chunk.js.map