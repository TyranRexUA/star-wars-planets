(this["webpackJsonpstar-wars-planets"]=this["webpackJsonpstar-wars-planets"]||[]).push([[0],{11:function(e,t,a){e.exports={Card:"Card_Card__E4n_N",Card__property:"Card_Card__property__6ooGW",name:"Card_name__2M2E6",value:"Card_value__1D3VY"}},25:function(e,t,a){e.exports={Library:"Library_Library__9QTjD",showMoreBtn:"Library_showMoreBtn__3amXS",showMoreBtn_preloader:"Library_showMoreBtn_preloader__16ZSp"}},26:function(e,t,a){e.exports={InfoField:"InfoField_InfoField__1LEY_",name:"InfoField_name__3PIUT",values:"InfoField_values__3Q3YW"}},33:function(e,t,a){e.exports={PlanetPage:"PlanetPage_PlanetPage__1jf3q"}},34:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__1JtUR",search:"SearchForm_search__3j8oR"}},46:function(e,t,a){e.exports={Preloader:"Preloader_Preloader__lrE8P"}},54:function(e,t,a){},55:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/star-wars-gif.153166d7.gif"},80:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(20),i=a.n(s),l=(a(54),a(55),a(3)),o=a(22),u=a(23),d=a(14),p=a(7),j=a(4),h=a(46),b=a.n(h),m=function(e){return Object(n.jsx)("div",Object(j.a)({className:b.a.Preloader},e))},f=a(12),O=a.n(f),_=a(16),x=a(27),v=a(19),g=a.n(v),y=g.a.create({baseURL:"https://swapi.dev/api/"}),P={getPlanets:function(){return y.get("planets/").then((function(e){return e.data}))},getMorePlanets:function(e){return g.a.get(e).then((function(e){return e.data}))},getPlanetDetails:function(e){return y.get("planets/".concat(e,"/")).then((function(e){return e.data}))},getPersonName:function(e){return g.a.get(e).then((function(e){return e.data.name}))},searchPlanets:function(e){return g.a.get("https://swapi.dev/api/planets/?search=".concat(e)).then((function(e){return e.data}))}},L="planets/SET_PLANETS",N="planets/ADD_PLANETS",E="planets/TOGGLE_IS_GLOBAL_LOADING",w="planets/TOGGLE_IS_LOADING",S={next:"",planets:[],isLoading:!1,isGlobalLoading:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(j.a)(Object(j.a)({},e),{},{planets:Object(x.a)(t.payload.results),next:t.payload.next});case N:return Object(j.a)(Object(j.a)({},e),{},{planets:[].concat(Object(x.a)(e.planets),Object(x.a)(t.payload.results)),next:t.payload.next});case w:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});case E:return Object(j.a)(Object(j.a)({},e),{},{isGlobalLoading:t.isLoading});default:return e}},I=function(e){return{type:L,payload:e}},D=function(e){return{type:w,isLoading:e}},G=function(e){return{type:E,isLoading:e}},T=a(13),V=a(11),F=a.n(V),A=function(e){var t=e.id,a=e.name,r=e.climate,c=e.population;return Object(n.jsxs)(T.b,{className:F.a.Card,to:"/planet/".concat(t),children:[Object(n.jsxs)("div",{className:F.a.Card__property,children:[Object(n.jsx)("div",{className:F.a.name,children:"Name"}),Object(n.jsx)("div",{className:F.a.value,children:a})]}),Object(n.jsxs)("div",{className:F.a.Card__property,children:[Object(n.jsx)("div",{className:F.a.name,children:"Climate"}),Object(n.jsx)("div",{className:F.a.value,children:r})]}),Object(n.jsxs)("div",{className:F.a.Card__property,children:[Object(n.jsx)("div",{className:F.a.name,children:"Population"}),Object(n.jsx)("div",{className:F.a.value,children:c})]})]})},M=c.a.memo(A),q=a(25),B=a.n(q),k=a(47),R=a.n(k),U=function(e){var t=e.planets,a=e.requestPlanets,c=e.requestMorePlanets,s=e.next,i=e.isGlobalLoading,l=e.isLoading,d=e.match,p=e.searchPlanets,j=Object(u.a)(e,["planets","requestPlanets","requestMorePlanets","next","isGlobalLoading","isLoading","match","searchPlanets"]);Object(r.useEffect)((function(){d.params.searchValue?p(d.params.searchValue):a()}),[d.params.searchValue,p,j.location,a]);var h=function(e){return+e.match(/(?<=planets\/)\d+/i)};return i?Object(n.jsx)(m,{style:{height:"calc(100vh - 70px)"}}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:B.a.Library,children:t.map((function(e){return Object(n.jsx)(M,{id:h(e.url),name:e.name,climate:e.climate,population:e.population},h(e.url))}))}),s&&Object(n.jsx)("div",{className:R()(B.a.showMoreBtn,Object(o.a)({},B.a.showMoreBtn_preloader,l)),onClick:function(){l||c(s)},children:!l&&"SHOW MORE"})]})},J=Object(p.d)(l.g,Object(d.b)((function(e){return{planets:e.planets.planets,next:e.planets.next,isLoading:e.planets.isLoading,isGlobalLoading:e.planets.isGlobalLoading}}),{requestMorePlanets:function(e){return function(){var t=Object(_.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(D(!0)),t.next=3,P.getMorePlanets(e);case 3:n=t.sent,a({type:N,payload:n}),a(D(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},requestPlanets:function(){return function(){var e=Object(_.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0)),e.next=3,P.getPlanets();case 3:a=e.sent,t(I(a)),t(G(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},searchPlanets:function(e){return function(){var t=Object(_.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(G(!0)),t.next=3,P.searchPlanets(e);case 3:n=t.sent,a(I(n)),a(G(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(c.a.memo(U)),W=a(35),X="currentPlanet/SET_PLANET_DETAILS",Y="currentPlanet/SET_PLANET_RESIDENTS",H="currentPlanet/TOGGLE_IS_LOADING",Q={name:null,rotation_period:null,diameter:null,climate:null,gravity:null,terrain:null,population:null,residents:[],isLoading:!1},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(j.a)(Object(j.a)({},e),{},{name:t.payload.name,rotation_period:t.payload.rotation_period,diameter:t.payload.diameter,climate:t.payload.climate,gravity:t.payload.gravity,terrain:t.payload.terrain,population:t.payload.population});case Y:return Object(j.a)(Object(j.a)({},e),{},{residents:t.payload});case H:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});default:return e}},z=function(e){return{type:Y,payload:e}},K=function(e){return{type:H,isLoading:e}},$=a(26),ee=a.n($),te=function(e){var t=e.propertyName,a=e.values;return Object(n.jsxs)("div",{className:ee.a.InfoField,children:[Object(n.jsx)("span",{className:ee.a.name,children:t&&t.toUpperCase().replace("_"," ")}),Object(n.jsx)("div",{className:ee.a.values,children:Array.isArray(a)?a.map((function(e){return Object(n.jsx)("span",{children:e},e)})):Object(n.jsx)("span",{children:a})})]})},ae=a(33),ne=a.n(ae),re=function(e){var t=e.match,c=e.requestPlanetDetails,s=e.details,i=e.isLoading;Object(u.a)(e,["match","requestPlanetDetails","details","isLoading"]);return Object(r.useEffect)((function(){c(t.params.id)}),[t.params.id,c]),i?Object(n.jsx)(m,{style:{height:"calc(100vh - 30px)"}}):Object(n.jsxs)("div",{className:ne.a.PlanetPage,children:[Object(n.jsx)("div",{className:ne.a.InfoBlock,children:Object.entries(s).filter((function(e){var t=Object(W.a)(e,2),a=(t[0],t[1]);return a&&a.length>0})).map((function(e){var t=Object(W.a)(e,2),a=t[0],r=t[1];return Object(n.jsx)(te,{propertyName:a,values:r},a)}))}),Object(n.jsx)("img",{src:a(79).default,alt:""})]})},ce=Object(p.d)(l.g,Object(d.b)((function(e){return{details:{name:e.currentPlanet.name,rotation_period:e.currentPlanet.rotation_period,diameter:e.currentPlanet.diameter,climate:e.currentPlanet.climate,gravity:e.currentPlanet.gravity,terrain:e.currentPlanet.terrain,population:e.currentPlanet.population,residents:e.currentPlanet.residents},isLoading:e.currentPlanet.isLoading}}),{requestPlanetDetails:function(e){return function(){var t=Object(_.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(K(!0)),t.next=3,P.getPlanetDetails(e);case 3:return n=t.sent,a({type:X,payload:n}),t.next=7,Promise.all(n.residents.map((function(e){return P.getPersonName(e)})));case 7:r=t.sent,a(z(r)),a(K(!1));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(c.a.memo(re)),se=a(34),ie=a.n(se),le="search/SET_SEARCH_VALUE",oe={searchValue:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(j.a)(Object(j.a)({},e),{},{searchValue:t.payload});default:return e}},de=function(e){var t=e.setSearchValue,a=e.match,c=e.searchValue,s=e.history;Object(r.useEffect)((function(){a.params.searchValue&&t(a.params.searchValue)}),[a.params.searchValue,t]);return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c?s.push("/search/".concat(c)):s.push("/")},className:ie.a.searchForm,children:[Object(n.jsx)("input",{className:ie.a.search,type:"text",onChange:function(e){return t(e.target.value)},value:c||"",placeholder:"Search planets..."}),Object(n.jsx)("button",{type:"submit"})]})},pe=Object(p.d)(l.g,Object(d.b)((function(e){return{searchValue:e.searchForm.searchValue}}),{setSearchValue:function(e){return{type:le,payload:e}}}))(c.a.memo(de)),je=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe,{}),Object(n.jsx)(J,{})]}),he=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe,{}),Object(n.jsx)(ce,{})]}),be=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",render:function(){return je}}),Object(n.jsx)(l.b,{path:"/planet/:id",render:function(){return he}}),Object(n.jsx)(l.b,{path:"/search/:searchValue",render:function(){return je}}),Object(n.jsx)(l.b,{path:"*",render:function(){return Object(n.jsx)(l.a,{to:"/404"})}})]})})},me=a(48),fe=Object(p.c)({planets:C,currentPlanet:Z,searchForm:ue}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,_e=Object(p.e)(fe,Oe(Object(p.a)(me.a)));i.a.render(Object(n.jsx)(T.a,{children:Object(n.jsx)(d.a,{store:_e,children:Object(n.jsx)(be,{})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.5bba91a6.chunk.js.map